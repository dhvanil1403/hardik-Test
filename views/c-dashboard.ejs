<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aek Ads - Gujarat's Largest Digital Screen Network</title>
  <link rel="icon" type="image/png"
    href="https://res.cloudinary.com/dqfnwh89v/image/upload/v1724408615/qxvvfcf7ftgklhl2k03v.png">
  <link rel="stylesheet" href="/css/font.css" />
  <link rel="stylesheet" href="/css/sidebar.css">
  <!-- <script src="https://cdn.tailwindcss.com"></script> -->
</head>

<body>
  <!-- Sidebar Start -->
  <aside>

    <div class="sidebar">
      <div class="logo">

        <img src="https://res.cloudinary.com/dqfnwh89v/image/upload/v1724401978/Aek_Ads_Logo_ltfni2.svg"
          alt="image loading" />
      </div>

      <ul class="menu">
       
        <li class="menu-item" id="newScreenButton">
          <a href="/customer-screen">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M2 16.1C2.96089 16.296 3.84294 16.7702 4.53638 17.4636C5.22982 18.1571 5.70403 19.0391 5.9 20M2 12.05C4.03079 12.2759 5.92428 13.186 7.36911 14.6309C8.81395 16.0757 9.72414 17.9692 9.95 20M2 8V6C2 5.46957 2.21071 4.96086 2.58579 4.58579C2.96086 4.21071 3.46957 4 4 4H20C20.5304 4 21.0391 4.21071 21.4142 4.58579C21.7893 4.96086 22 5.46957 22 6V18C22 18.5304 21.7893 19.0391 21.4142 19.4142C21.0391 19.7893 20.5304 20 20 20H14"
                stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M2 20H2.01" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span class="menu-item">Screens </span>
          </a>
        </li>
        <li class="menu-item" id="playlistsButton">
          <a href="/customer-playlist">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 17L12 22L22 17" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 12L12 17L22 12" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              
            <span class="menu-item">Playlists </span>
          </a>
        </li>

      

        <li class="menu-item" id="libraryButton">
          <a href="/customer-library">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M22 19C22 19.5304 21.7893 20.0391 21.4142 20.4142C21.0391 20.7893 20.5304 21 20 21H4C3.46957 21 2.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H9L11 6H20C20.5304 6 21.0391 6.21071 21.4142 6.58579C21.7893 6.96086 22 7.46957 22 8V19Z"
                stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span class="menu-item">Library </span>
          </a>
        </li>
        <!-- <li class="menu-item">
          <a href="proposals.html">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M22 19C22 19.5304 21.7893 20.0391 21.4142 20.4142C21.0391 20.7893 20.5304 21 20 21H4C3.46957 21 2.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H9L11 6H20C20.5304 6 21.0391 6.21071 21.4142 6.58579C21.7893 6.96086 22 7.46957 22 8V19Z"
                stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span class="menu-item">Proposal </span>
          </a>
        </li> -->
      
        
        <!-- <li class="menu-item">
          <a href="Tickets.html">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M12 8V12" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M12 16H12.01" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <span class="menu-item">Tickets </span>
          </a>
        </li> -->
      </ul>
      <div class="admin-section" >
        <button class="admin-button" id="Admin">
          <svg width="27" height="28" viewBox="0 0 27 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M13.5 26.75C20.5416 26.75 26.25 21.0416 26.25 14C26.25 6.95837 20.5416 1.25 13.5 1.25C6.45837 1.25 0.75 6.95837 0.75 14C0.75 21.0416 6.45837 26.75 13.5 26.75Z"
              stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path
              d="M19.5 20.75V19.25C19.5 18.4544 19.1839 17.6913 18.6213 17.1287C18.0587 16.5661 17.2956 16.25 16.5 16.25H10.5C9.70435 16.25 8.94129 16.5661 8.37868 17.1287C7.81607 17.6913 7.5 18.4544 7.5 19.25V20.75"
              stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path
              d="M13.5 13.25C15.1569 13.25 16.5 11.9069 16.5 10.25C16.5 8.59315 15.1569 7.25 13.5 7.25C11.8431 7.25 10.5 8.59315 10.5 10.25C10.5 11.9069 11.8431 13.25 13.5 13.25Z"
              stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
          <span class="adminBtn">Admin </span>
        </button>
        <a href="/logout" class="logout-button">Logout</a>
      </div>
    </div>
  </aside>
  <!-- Sidebar End -->


  <script>
   document.addEventListener('DOMContentLoaded', function () {
    const navLinks = document.querySelectorAll('.menu-item a');
    const currentUrl = window.location.pathname;

    navLinks.forEach(link => {
        if (link.getAttribute('href') === currentUrl) {
            link.classList.add('activ'); // Add active class to the current link
        }
    });

    navLinks.forEach(link => {
        link.addEventListener('click', function() {
            navLinks.forEach(nav => nav.classList.remove('activ')); // Remove active from all
            this.classList.add('activ'); // Add active to the clicked link
        });
    });
});

  </script>





<script>


fetch('/session-data')
  .then(response => response.json())
  .then(data => {
    console.log(data.user); // Access session.user data here
    console.log(data.user.permissions); 
    console.log(data.user.role); // Access session.user data here
 // Check if user has 'sc' permission
 if (!data.user.permissions.includes('sv')) {
        // If user doesn't have 'sc' permission, hide the "New Screen" button
        document.getElementById('newScreenButton').style.display = 'none';
      }
      if (!data.user.role.includes('admin')) {
        // If user doesn't have 'sc' permission, hide the "New Screen" button
        document.getElementById('log').style.display = 'none';
      }
      
      if (!data.user.role.includes('admin')) {
        // If user doesn't have 'sc' permission, hide the "New Screen" button
        document.getElementById('Proposal').style.display = 'none';
      }
      if (!data.user.role.includes('admin')) {
        // If user doesn't have 'sc' permission, hide the "New Screen" button
        document.getElementById('Team').style.display = 'none';
      }
      if (!data.user.role.includes('admin')) {
        // If user doesn't have 'sc' permission, hide the "New Screen" button
        document.getElementById('Admin').style.display = 'none';
      }
      if (!data.user.permissions.includes('pv')) {
        // If user doesn't have 'sc' permission, hide the "New Screen" button
        document.getElementById('playlistsButton').style.display = 'none';
      }
      if (!data.user.permissions.includes('liv')) {
        // If user doesn't have 'sc' permission, hide the "New Screen" button
        document.getElementById('liveButton').style.display = 'none';
      }
      if (!data.user.permissions.includes('lv')) {
        // If user doesn't have 'sc' permission, hide the "New Screen" button
        document.getElementById('libraryButton').style.display = 'none';
      }
    })
    .catch(error => console.error('Error fetching session data:', error));



















</script>

















</body>

</html>