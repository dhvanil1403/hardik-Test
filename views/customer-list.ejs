<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customer List</title>
    <link rel="stylesheet" href="/css/font.css" />
    <link rel="stylesheet" href="/css/teams.css" />
    <link rel="stylesheet" href="/css/screen.css" />
    <link rel="stylesheet" href="/css/playlist.css" />
    <style>
      .New-members {
        border: none;
        color: #1c1c1ccc;
      }
      .members {
        border-bottom: 2px solid #0d6efd;
        color: #0d6efd;
      }
      td {
        align-items: center;
        text-align: center;
        justify-content: center;
      }
      .show-Screen {
        box-shadow: 0px 4px 10px 0px #00000040;
        background: #ffffff;
        width: 96%;
        border-radius: 14px;
        margin: 1% 0 0;
        padding: 1%;
        overflow: hidden;
        height: auto;
      }
      .home-team {
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: 5px 20px;
    gap: 9px;
    width: 150px;
    height: 30px;
    left: 239px;
    top: 42px;
    background: #FFFFFF;
    box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25);
    border-radius: 15px;
    color: var(--black-80, #1C1C1CCC);
}
    </style>
  </head>
  <body>
    
  <%- include('Dashboard') %>
    <div class="teams">
      <div class="home-team">
          <p>Home><b>Customer</b></p>
      </div>


      <div class="member">
        <div class="members" id="members">Customer</div>
        <div class="New-members" id="newMembers">New Customer</div>
        <!-- <div class="Logs" id="logs">
        Logs
        </div> -->
      </div>
      <script>
        document.getElementById("members").addEventListener("click", function () {
          window.location.href = "/admin/users";
        });
        document.getElementById("newMembers").addEventListener("click", function () {
          window.location.href = "/customer/register";
        });
       
      </script>
 
                                          
  
<div class="show-Screen">


  <script>
     document.addEventListener('DOMContentLoaded', function() {
      var deleteButton = document.getElementById('delete-button');
      var deleteForm = document.getElementById('delete-form');

      deleteButton.addEventListener('click', function(event) {
          event.preventDefault(); // Prevent the default form submission

          Swal.fire({
              title: 'Are you sure?',
              text: 'Do you really want to delete this user?',
              icon: 'warning',
              showCancelButton: true,
              confirmButtonText: 'Yes, delete it!',
              cancelButtonText: 'No, cancel!',
              reverseButtons: true
          }).then((result) => {
              if (result.isConfirmed) {
                  // Submit the form if confirmed
                  deleteForm.submit();

                  // Show success message after form submission
                  Swal.fire({
                      icon: 'success',
                      title: 'Deleted!',
                      text: 'The user has been deleted.',
                      showConfirmButton: true
                  });
              } else if (result.dismiss === Swal.DismissReason.cancel) {
                  Swal.fire(
                      'Cancelled',
                      'The user was not deleted.',
                      'error'
                  );
              }
          });
      });

      // Check if there are any error or success messages
      var error_msg = '<%= error_msg %>';
      var success_msg = '<%= success_msg %>';

      if (error_msg) {
          Swal.fire({
              icon: 'error',
              title: 'Error!',
              text: error_msg,
              showConfirmButton: true
          });
      }

      if (success_msg) {
          Swal.fire({
              icon: 'success',
              title: 'Success!',
              text: success_msg,
              showConfirmButton: true
          });
      }
  });
</script>

    <table >
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Mobile Number</th>
         
        </tr>
      </thead>
      <tbody>
        <% customers.forEach(customer => { %>
        <tr>
          <td><%= customer.name %></td>
          <td><%= customer.email %></td>
          <td><%= customer.mobile_number %></td>
          
        </tr>
        <% }) %>
      </tbody>
    </table>
    </div>
    </div>
  </body>
</html>
